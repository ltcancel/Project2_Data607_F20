---
title: "Project2"
author: "LeTicia Cancel"
date: "9/27/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

libraries
```{r message=FALSE, warning=FALSE}
install.packages("mapview")
#install.packages("maps")
library(maps)
library(DBI)
library(RCurl)
library(readr)
library(ggplot2)
library(mapview)
library(dplyr)
library(ggmap)
```

# Data 1 - NYC Restaurant Inspection Results

The first data set that will be analyzed are all of the NYC Restaurant Inspection results from 2019 to 10/1/2020. 

Analysis
1) Count of violations by borough for each year
2) Map out the violations using Latitude and Longitude
3) Who are the repeat offenders
4) Who has a grade or % of restaurants with a grade, and what that grade is
5) Most frequent violation

```{r}
#get URL and import data from GitHub
site <- "https://raw.githubusercontent.com/ltcancel/Project2_Data607_F20/master/DOHMH_New_York_City_Restaurant_Inspection_Results.csv"

df <- read_csv(url(site))
head(df)

class(df)

```
## Tidy the data/Analysis
```{r}
#get the google map api key
api <- read.delim("googleapi.txt",header = FALSE)

register_google(key = api)
#get map for brooklyn

bk_df <- filter(df, BORO == "Brooklyn")
head(bk_df)
nyc_map <- get_map(location = "New York", maptype = "roadmap")

nyc_map


ggplot(bk_df) +
  ggmap(nyc_map,)
  
ggmap(nyc_map) +
  geom_point(aes(x=Longitude, y=Latitude), data = bk_df)


?register_google

```



# Data 2 - Police Killings Since 2015
Datasets 
Main Data - https://www.kaggle.com/kwullum/fatal-police-shootings-in-the-us
Most recent data - https://github.com/washingtonpost/data-police-shootings
Median Household Income 2015 - https://www.kaggle.com/kwullum/fatal-police-shootings-in-the-us?select=MedianHouseholdIncome2015.csv
Percent Over 25 Completed High School - https://www.kaggle.com/kwullum/fatal-police-shootings-in-the-us?select=PercentOver25CompletedHighSchool.csv
Percentage People Below Poverty Level - https://www.kaggle.com/kwullum/fatal-police-shootings-in-the-us?select=PercentagePeopleBelowPovertyLevel.csv
Police Killings US - https://www.kaggle.com/kwullum/fatal-police-shootings-in-the-us?select=PoliceKillingsUS.csv
Share Race By City - https://www.kaggle.com/kwullum/fatal-police-shootings-in-the-us?select=ShareRaceByCity.csv

Analysis
What is the average number of police killings by city?
What is the share of police killings involving an unarmed person?
What was the average age of people who died by police?
What was the the median household income for each city with a police killing?
What was the race demographic by city for each city with a police killing?
What was the percent of citizens over 25 who completed high school for each city with a police killing?
Ratio of victims who showed signs of mental illness versus those who did not


# Data 3 - Fastest growing private companies in American from 2015 - 2020
https://www.inc.com/inc5000/2020

Analysis
 
Which companies are on the list each year, or which companies show up multiple times from 2015-2020.
For companies that show up multiple times, how has their growth percentage changed over the years?
Which state has the most companies year by year?
Which industry is in the lead over the years?

 

